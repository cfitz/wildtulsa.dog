const rolls=[{druid:"fz215xr4723",image_url:"https://stacks.stanford.edu/image/iiif/fz215xr4723%2Ffz215xr4723_0001/info.json",number:"1443",publisher:"Welte-Mignon",title:"Beethoven/Schelling - Sonata appassionata: op. 57, F Minor: 2nd and 3rd movements",type:"welte-red"},{druid:"kt852zf4103",image_url:"https://stacks.stanford.edu/image/iiif/kt852zf4103%2Fkt852zf4103_0001/info.json",number:"137",publisher:"Welte-Mignon",title:"Bizet/Adam-Benard - Carmens lied: tralalala",type:"welte-red"},{druid:"vc908xz3554",image_url:"https://stacks.stanford.edu/image/iiif/vc908xz3554%2Fvc908xz3554_0002/info.json",number:"7822",publisher:"Ideal",title:"Schulhoff - Carnaval de venezia",type:"88-note"},{druid:"sx275gw8801",image_url:"https://stacks.stanford.edu/image/iiif/sx275gw8801%2Fsx275gw8801_0001/info.json",number:"5675",publisher:"Welte-Mignon",title:"Youmans/Johnson - Tea for two: fox-trot",type:"welte-red"}],updateMetadata=function(e){document.getElementById("roll-title").textContent=e.title,document.getElementById("roll-type").textContent=e.type,document.getElementById("roll-publisher").textContent=e.publisher,document.getElementById("roll-number").textContent=e.number,document.getElementById("roll-druid").textContent=e.druid},updateRoll=function(e){const t=new URL(window.location);t.searchParams.set("druid",e.druid);const n={roll:e};window.history.pushState(n,"",t);const o=document.getElementsByClassName("roll-link");Array.from(o).forEach(function(e){e.classList.remove("active")});const r=document.getElementById(e.druid);console.log(e),r.classList.add("active");var a=new PopStateEvent("popstate",{state:n});dispatchEvent(a),updateMetadata(e)};document.addEventListener("DOMContentLoaded",function(){const e=new URLSearchParams(window.location.search);updateRoll(e.has("druid")?rolls.find(function(t){return t.druid===e.get("druid")}):rolls[Math.floor(Math.random()*rolls.length)]);const t=function(e){const t=this.id;updateRoll(rolls.find(function(e){return e.druid===t})),e.preventDefault()},n=document.getElementsByClassName("roll-link");Array.from(n).forEach(function(e){e.addEventListener("click",t)}),document.getElementsByTagName("footer")[0].remove(),document.getElementsByClassName("row")[0].remove()});